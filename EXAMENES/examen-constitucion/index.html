<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Examen ESR — Constitución (E.S.R.)</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- Libraries: html2pdf (usa jsPDF + html2canvas internamente) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js" defer></script>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
<body>
  <div class="container" role="main">
    <header>
      <div class="logo">ESR</div>
      <div>
        <h1>Examen Básico — Constitución (E.S.R.)</h1>
        <p class="lead">20 preguntas — 15 de opción única, 5 abiertas · Exportable a PDF y JSON</p>
      </div>
    </header>

    <form id="examForm" autocomplete="off" novalidate>
      <div class="row">
        <div style="flex:1 1 320px">
          <label class="field">Usuario de Discord <span style="color:var(--accent1)">*</span>
            <input id="discordUser" name="discordUser" type="text" placeholder="ej. wumpus#1234" required>
          </label>
        </div>
        <div style="flex:1 1 320px">
          <label class="field">Nombre completo <span style="color:var(--accent1)">*</span>
            <input id="fullName" name="fullName" type="text" placeholder="Nombre y apellido (rol)" required>
          </label>
        </div>
        <div style="flex:0 1 120px">
          <label class="field">Rango (1-8) <span style="color:var(--accent1)">*</span>
            <input id="rank" name="rank" type="number" min="1" max="8" required>
          </label>
        </div>
      </div>

      <section class="card" id="questionsArea">
        <h3 style="margin-top:0">Preguntas (selección única)</h3>

        <!-- 15 MCQ -->
        <!-- Las preguntas se basan en la Constitución proporcionada -->
        <!-- Q1 -->
        <div class="question" id="q1">
          <div class="qtitle">1. ¿Cuál es el órgano supremo de justicia del Clan E.S.R.?</div>
          <div class="options options-q1">
            <div class="opt"><label><input type="radio" name="q1" value="A" required> A) Tribunal del Vacío</label>
            </div>
            <div class="opt"><label><input type="radio" name="q1" value="B"> B) Líder Sol</label></div>
            <div class="opt"><label><input type="radio" name="q1" value="C"> C) Fundadora</label></div>
            <div class="opt"><label><input type="radio" name="q1" value="D"> D) Consejo Diplomático</label></div>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question" id="q2">
          <div class="qtitle">2. ¿Qué edad mínima protege el clan según los principios fundacionales?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q2" value="A" required> A) 10 años</label></div>
            <div class="opt"><label><input type="radio" name="q2" value="B"> B) 12 años</label></div>
            <div class="opt"><label><input type="radio" name="q2" value="C"> C) 14 años</label></div>
            <div class="opt"><label><input type="radio" name="q2" value="D"> D) 16 años</label></div>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question" id="q3">
          <div class="qtitle">3. Según la Constitución, ¿quién tiene veto moral en decisiones?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q3" value="A" required> A) Juez Supremo</label></div>
            <div class="opt"><label><input type="radio" name="q3" value="B"> B) Fundadora</label></div>
            <div class="opt"><label><input type="radio" name="q3" value="C"> C) Tribunal del Vacío</label></div>
            <div class="opt"><label><input type="radio" name="q3" value="D"> D) Líder Sol</label></div>
          </div>
        </div>

        <!-- Q4 -->
        <div class="question" id="q4">
          <div class="qtitle">4. ¿Cuál es la sanción máxima posible por faltas muy graves?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q4" value="A" required> A) Suspensión de 1 semana</label>
            </div>
            <div class="opt"><label><input type="radio" name="q4" value="B"> B) Degradación de rango</label></div>
            <div class="opt"><label><input type="radio" name="q4" value="C"> C) Expulsión permanente</label></div>
            <div class="opt"><label><input type="radio" name="q4" value="D"> D) Amonestación verbal</label></div>
          </div>
        </div>

        <!-- Q5 -->
        <div class="question" id="q5">
          <div class="qtitle">5. ¿Qué principio no aparece explícitamente en el Art. 4.1?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q5" value="A" required> A) Honor por encima de
                todo</label></div>
            <div class="opt"><label><input type="radio" name="q5" value="B"> B) Lealtad inquebrantable</label></div>
            <div class="opt"><label><input type="radio" name="q5" value="C"> C) Protección del débil</label></div>
            <div class="opt"><label><input type="radio" name="q5" value="D"> D) Neutralidad absoluta ante conflictos
                externos</label></div>
          </div>
        </div>

        <!-- Q6 -->
        <div class="question" id="q6">
          <div class="qtitle">6. ¿Cuántos jurados rotativos participan en el Tribunal del Vacío?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q6" value="A" required> A) 3</label></div>
            <div class="opt"><label><input type="radio" name="q6" value="B"> B) 5</label></div>
            <div class="opt"><label><input type="radio" name="q6" value="C"> C) 7</label></div>
            <div class="opt"><label><input type="radio" name="q6" value="D"> D) 9</label></div>
          </div>
        </div>

        <!-- Q7 -->
        <div class="question" id="q7">
          <div class="qtitle">7. Según Art. 3.2, ¿qué está prohibido dentro del clan?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q7" value="A" required> A) Discurso de odio</label></div>
            <div class="opt"><label><input type="radio" name="q7" value="B"> B) Preguntar por rangos</label></div>
            <div class="opt"><label><input type="radio" name="q7" value="C"> C) Ayudar a nuevos miembros</label></div>
            <div class="opt"><label><input type="radio" name="q7" value="D"> D) Presentar denuncias formales</label>
            </div>
          </div>
        </div>

        <!-- Q8 -->
        <div class="question" id="q8">
          <div class="qtitle">8. El sistema de puntos del clan da +10 por:</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q8" value="A" required> A) Actividad constante y positiva
                (semanal)</label></div>
            <div class="opt"><label><input type="radio" name="q8" value="B"> B) Denuncias formales</label></div>
            <div class="opt"><label><input type="radio" name="q8" value="C"> C) Liderazgo mensual</label></div>
            <div class="opt"><label><input type="radio" name="q8" value="D"> D) Ausencia no justificada</label></div>
          </div>
        </div>

        <!-- Q9 -->
        <div class="question" id="q9">
          <div class="qtitle">9. ¿Quiénes pueden declarar guerra oficialmente?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q9" value="A" required> A) Autoridades Supremas</label>
            </div>
            <div class="opt"><label><input type="radio" name="q9" value="B"> B) Cualquier miembro Rango 5+</label></div>
            <div class="opt"><label><input type="radio" name="q9" value="C"> C) Secretario Diplomático</label></div>
            <div class="opt"><label><input type="radio" name="q9" value="D"> D) Tribunal del Vacío</label></div>
          </div>
        </div>

        <!-- Q10 -->
        <div class="question" id="q10">
          <div class="qtitle">10. ¿Cuál es el mínimo de preguntas del "Examen Constitucional" mensual según Art.11.4?
          </div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q10" value="A" required> A) 5 preguntas</label></div>
            <div class="opt"><label><input type="radio" name="q10" value="B"> B) 10 preguntas</label></div>
            <div class="opt"><label><input type="radio" name="q10" value="C"> C) 20 preguntas</label></div>
            <div class="opt"><label><input type="radio" name="q10" value="D"> D) 0 preguntas</label></div>
          </div>
        </div>

        <!-- Q11 -->
        <div class="question" id="q11">
          <div class="qtitle">11. En el sistema de infracciones, ¿qué clasificación incluye 'engaño'?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q11" value="A" required> A) Leve</label></div>
            <div class="opt"><label><input type="radio" name="q11" value="B"> B) Moderada</label></div>
            <div class="opt"><label><input type="radio" name="q11" value="C"> C) Grave</label></div>
            <div class="opt"><label><input type="radio" name="q11" value="D"> D) Gravísima</label></div>
          </div>
        </div>

        <!-- Q12 -->
        <div class="question" id="q12">
          <div class="qtitle">12. ¿Cuál es uno de los medios de rehabilitación tras sanción?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q12" value="A" required> A) Solicitar rehabilitación tras
                cumplir el periodo</label></div>
            <div class="opt"><label><input type="radio" name="q12" value="B"> B) Apelar ante el Secretario
                Diplomático</label></div>
            <div class="opt"><label><input type="radio" name="q12" value="C"> C) Pagar multa</label></div>
            <div class="opt"><label><input type="radio" name="q12" value="D"> D) Hacer un reto público</label></div>
          </div>
        </div>

        <!-- Q13 -->
        <div class="question" id="q13">
          <div class="qtitle">13. ¿Qué artículo regula Derechos y Garantías fundamentales?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q13" value="A" required> A) Artículo 1</label></div>
            <div class="opt"><label><input type="radio" name="q13" value="B"> B) Artículo 3</label></div>
            <div class="opt"><label><input type="radio" name="q13" value="C"> C) Artículo 7</label></div>
            <div class="opt"><label><input type="radio" name="q13" value="D"> D) Artículo 11</label></div>
          </div>
        </div>

        <!-- Q14 -->
        <div class="question" id="q14">
          <div class="qtitle">14. ¿Qué se requiere para reformar la Constitución (una de las vías)?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q14" value="A" required> A) Decisión unánime de las
                Autoridades Supremas</label></div>
            <div class="opt"><label><input type="radio" name="q14" value="B"> B) Voto simple de la comunidad</label>
            </div>
            <div class="opt"><label><input type="radio" name="q14" value="C"> C) Firma de 5 miembros</label></div>
            <div class="opt"><label><input type="radio" name="q14" value="D"> D) Aprobación del Secretario
                Diplomático</label></div>
          </div>
        </div>

        <!-- Q15 -->
        <div class="question" id="q15">
          <div class="qtitle">15. En las disposiciones transitorias, ¿cuántos días tienen los miembros para
            familiarizarse con la nueva Constitución?</div>
          <div class="options">
            <div class="opt"><label><input type="radio" name="q15" value="A" required> A) 7 días</label></div>
            <div class="opt"><label><input type="radio" name="q15" value="B"> B) 15 días</label></div>
            <div class="opt"><label><input type="radio" name="q15" value="C"> C) 30 días</label></div>
            <div class="opt"><label><input type="radio" name="q15" value="D"> D) 60 días</label></div>
          </div>
        </div>

      </section>

      <!-- Open questions -->
      <section class="card" id="openArea">
        <h3 style="margin-top:0">Preguntas abiertas (respuestas libres — máximo 500 caracteres)</h3>

        <div class="question">
          <div class="qtitle">16. Explique con sus palabras el propósito del Tribunal del Vacío (máx 500 caracteres).
          </div>
          <textarea name="q16" maxlength="500" placeholder="Escribe aquí... (máx 500 caracteres)" required></textarea>
          <div class="note">Caracteres restantes: <span class="remaining" data-for="q16">500</span></div>
        </div>

        <div class="question">
          <div class="qtitle">17. Mencione dos principios fundacionales y cómo los aplicaría en una situación real (máx
            500).</div>
          <textarea name="q17" maxlength="500" placeholder="Escribe aquí..." required></textarea>
          <div class="note">Caracteres restantes: <span class="remaining" data-for="q17">500</span></div>
        </div>

        <div class="question">
          <div class="qtitle">18. ¿Qué haría si presenciara una violación del Art. 3.2 en un chat del clan? (máx 500).
          </div>
          <textarea name="q18" maxlength="500" placeholder="Escribe aquí..." required></textarea>
          <div class="note">Caracteres restantes: <span class="remaining" data-for="q18">500</span></div>
        </div>

        <div class="question">
          <div class="qtitle">19. Proponga una mejora para el sistema de puntos del clan (máx 500).</div>
          <textarea name="q19" maxlength="500" placeholder="Escribe aquí..." required></textarea>
          <div class="note">Caracteres restantes: <span class="remaining" data-for="q19">500</span></div>
        </div>

        <div class="question">
          <div class="qtitle">20. Comentario libre sobre cómo el clan podría mejorar la transparencia (máx 500).</div>
          <textarea name="q20" maxlength="500" placeholder="Escribe aquí..." required></textarea>
          <div class="note">Caracteres restantes: <span class="remaining" data-for="q20">500</span></div>
        </div>

      </section>

      <div class="controls">
        <button type="button" class="btn" id="previewPdfBtn">Generar y descargar PDF</button>
        <button type="button" class="btn ghost" id="downloadJsonBtn">Descargar JSON (respuestas)</button>
        <button type="button" class="btn ghost" id="copyJsonBtn">Copiar JSON (portapapeles)</button>
        <button type="submit" class="btn ghost" id="validateBtn">Validar y previsualizar</button>
        <div style="margin-left:auto" class="note">Al completar, descarga el PDF y envíalo por Discord al juez.</div>
      </div>
    </form>

    <footer>
      <div class="legal">Creado por <span class="author">@samaresv juez supremo de ESR</span></div>
      <div class="legal">Diseño: negro, blanco y canario con degradados — PDF A4</div>
    </footer>
  </div>

  <!-- Hidden area used for PDF rendering so estilos del sitio NO interfieran -->
  <div id="pdfSource" style="display:none;visibility:hidden;position:absolute;left:-9999px;top:-9999px;">
    <div id="pdfContent">
      <h2>Examen — Constitución (E.S.R.)</h2>
      <div id="pdfMeta"></div>
      <hr>
      <div id="pdfQuestions"></div>
      <div id="pdfFooter">Creado por @samaresv juez supremo de ESR</div>
    </div>
  </div>

</body>

</html>